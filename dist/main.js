(()=>{"use strict";class t{constructor(t,e,i,n,c,r,s){this.city=t,this.country=e,this.temp=i,this.tempMax=n,this.tempMin=c,this.desc=r,this.deg=s}getDescription(){if("F"===this.deg){let t=this.kToF(this.temp),e=this.kToF(this.tempMax),i=this.kToF(this.tempMin);return`For ${this.city} in ${this.country}, the current temp is ${t} F, with high of ${e}\n            F and low of ${i} F. The weather is described as ${this.desc}`}if("C"===this.deg){let t=this.kToC(this.temp),e=this.kToC(this.tempMax),i=this.kToC(this.tempMin);return`For ${this.city} in ${this.country}, the current temp is ${t} C, with high of ${e}\n            C and low of ${i} C. The weather is described as ${this.desc}`}return"error"}kToF(t){let e=1.8*(t-273.15)+32;return Math.round(100*e)/100}kToC(t){let e=t-273.15;return Math.round(100*e)/100}getShortDesc(){return this.desc}getCity(){return this.city}}const e=(e,i)=>{fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=8beddfd7dd7c2eba0cfa597f3f09ce16`,{mode:"cors"}).then((function(t){return t.json()})).then((function(e){let n=new t(e.name,e.sys.country,e.main.temp,e.main.temp_max,e.main.temp_min,e.weather[0].description,i);(class{constructor(){}static createWeatherCard(t){let e=document.createElement("div");e.classList.add("card");let i=document.createElement("div");i.classList.add("card-text"),i.textContent=t.getDescription();let n=document.createElement("div");n.classList.add("card-image");let c=document.createElement("img");this.addGif(c,t.getShortDesc()),n.appendChild(c),e.appendChild(i),e.appendChild(n),e.appendChild(this.addRemoveButton(e)),document.querySelector("#content").appendChild(e)}static addRemoveButton(t){let e=document.createElement("button");return e.classList.add("remove"),e.textContent="Remove",e.addEventListener("click",(()=>{document.querySelector("#content").removeChild(t)})),e}static addGif(t,e){fetch(`https://api.giphy.com/v1/gifs/translate?api_key=gmcOvxLZTC8O8HXu2hUS8yfNvi1dCERW&s=${e}`,{mode:"cors"}).then((function(t){return t.json()})).then((function(e){t.setAttribute("src",e.data.images.original.url)})).catch((e=>{t.setAttribute("src","https://giphy.com/gifs/kermit-CytQHnbgquUhi")}))}}).createWeatherCard(n)})).catch((t=>{alert("not found: "+t)}))},i=document.querySelector("#add-F"),n=document.querySelector("#add-C"),c=document.querySelector("#city");i.addEventListener("click",(()=>{console.log(c.value),e(c.value,"F"),document.querySelector("#city").value=""})),n.addEventListener("click",(()=>{console.log(c.value),e(c.value,"C"),document.querySelector("#city").value=""}))})();